/* --- Base / reset --- */
* { box-sizing: border-box; }
html, body { height: 100%; margin: 0; font-family: Inter, Arial, Helvetica, sans-serif; background: #f6f7f9; color:#111; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; }
a { color: inherit; text-decoration: none; }

/* container */
.container { display:flex; flex-direction:column; height:100vh; gap:8px; padding:12px; }

/* header */
.header {
  display:flex;
  align-items:center;
  justify-content:space-between;
  background: #fff;
  border-radius: 10px;
  padding: 10px 12px;
  box-shadow: 0 6px 18px rgba(20,20,20,0.06);
}
.header .logo { font-weight:700; font-size:16px; margin:0; }

/* controls row */
.controls { display:flex; gap:10px; align-items:center; flex-wrap:wrap; }
.controls .tool-section, .controls .color-section, .controls .size-section, .controls .actions { display:flex; gap:8px; align-items:center; }

/* main area */
.main { flex:1; display:flex; gap:12px; align-items:stretch; }

/* left / tools */
.sidebar {
  width: 84px;
  background: #fff;
  border-radius: 10px;
  padding: 10px;
  box-shadow: 0 6px 18px rgba(20,20,20,0.04);
  display:flex;
  flex-direction:column;
  gap:8px;
  align-items:center;
}

/* canvas container */
.canvas-container {
  flex:1;
  display:flex;
  align-items:center;
  justify-content:center;
  position:relative;
  background: #e9eef3;
  border-radius: 10px;
  padding: 12px;
  overflow:hidden;
}

/* square wrapper */
.canvas-square {
  width:100%;
  max-width:1100px;
  aspect-ratio:1/1;
  background:#fff;
  border-radius:8px;
  position:relative;
  overflow:hidden;
  box-shadow: 0 8px 24px rgba(20,20,20,0.06);
}

/* canvas layers */
.canvas-square canvas {
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  display:block;
  touch-action:none;
}

/* loading overlay */
.loading {
  position:absolute;
  z-index:60;
  left:12px; top:12px;
  background: rgba(255,255,255,0.9);
  padding:6px 10px;
  border-radius:6px;
  font-size:13px;
  color:#222;
}

/* modal */
.modal { display:none; position:fixed; inset:0; align-items:center; justify-content:center; background: rgba(0,0,0,0.45); padding:12px; }
.modal .modal-content { background:#fff; padding:14px; border-radius:8px; width:100%; max-width:420px; position:relative; }
.modal .close { position:absolute; right:8px; top:8px; background:transparent; border:0; font-size:20px; }

/* button styles */
button, select, input[type="range"], input[type="color"] {
  min-height:40px;
  border-radius:8px;
  border:1px solid rgba(0,0,0,0.06);
  background:#fff;
  padding:6px 8px;
}
button.danger { background:#ffecec; border-color:#ffcccc; }

/* mobile bottom bar */
.mobile-bar {
  display:none;
  position:fixed;
  left:12px; right:12px; bottom:12px;
  height:56px;
  background:#fff;
  border-radius:12px;
  box-shadow:0 6px 18px rgba(20,20,20,0.08);
  display:flex;
  align-items:center;
  justify-content:space-around;
  gap:8px;
  z-index:80;
}

/* responsive */
@media (max-width:900px) {
  .main { flex-direction:column; gap:6px; }
  .sidebar { display:none; }
  .controls { display:none; }
  .canvas-container { padding:6px; }
  .canvas-square {
    width: calc(100vw - 24px);
    height: calc(100vw - 24px);
    max-width:none;
  }
  .mobile-bar { display:flex; }
}

/* small helpers */
.hidden { display:none !important; }
